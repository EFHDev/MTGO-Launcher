<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <title>Mod Manager</title>
</head>
<style>
    @keyframes loadingAnimation {
        0% {
            transform: rotate(0deg);
        }

        100% {
            transform: rotate(360deg);
        }
    }

    /* Keep this in memory so we can use it when loading other content, */

    .loading-box {
        position: absolute;
        display: none;
        width: 40px;
        height: 40px;
        top: 50%;
        left: 50%;
        border: 4px solid rgba(255, 255, 255, 0.3);
        border-top: 4px solid #2F81F7;
        border-radius: 50%;
        animation: loadingAnimation 1s linear infinite;
        margin: 20px auto;
    }

    .header-container {
        background-color: #1E2327;
        padding: 10px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        position: absolute;
        width: 99%;
        top: 0px;
        left: 0px;
        z-index: 1;
        /* Ensure the header stays above other content because its fucking retarded with this flex style */
    }

    .logo {
        font-size: 24px;
        font-weight: bold;
        color: #FFFFFF;
        text-decoration: none;
        height: 50px;
        width: min-content;
    }

    .nav-links {
        list-style: none;
        display: flex;
        gap: 20px;
        margin: 0;
    }

    .nav-link {
        font-size: 18px;
        color: #FFFFFF;
        text-decoration: none;
        transition: color 0.3s;
    }

    .nav-link:hover {
        color: #2F81F7;
    }
</style>

<body>

    <header>
        <div class="header-container">
            <img class="logo"
                src="https://cdn.discordapp.com/attachments/1116718992808226837/1139859068278820924/simplfied-mtga-logo.png"
                alt="Mod Manager Logo">
            <nav>
                <ul class="nav-links">
                    <li><a href="#" class="nav-link">Kings</a></li>
                    <li><a href="#" class="nav-link">Scrotum</a></li>
                    <li><a href="#" class="nav-link">is hairy</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <div class="container">
        <style>
            body {
                background-color: #010409;
                color: white;
                font-family: Arial, sans-serif;
                margin: 0;
                padding: 0;
                display: flex;
                align-items: center;
                justify-content: center;
                min-height: 100vh;
                overflow: hidden;
            }

            .container {
                text-align: center;
            }

            h1 {
                font-size: 24px;
                margin-bottom: 20px;
            }

            .game-choice {
                display: inline-block;
                margin: 20px;
                cursor: pointer;
            }

            .game-image {
                width: 200px;
                height: 200px;
                background-color: #0D1117;
                transition: transform 0.2s;
            }

            .game-choice:hover .game-image {
                transform: scale(1.05);
            }

            .game-name {
                font-size: 18px;
                margin-top: 10px;
            }


            @keyframes expandAnimation {
                0% {
                    transform: scale(1);
                    transform-origin: center;
                    /* Set the transform origin to the center */
                }

                100% {
                    transform: scale(3);
                    opacity: 0;
                }
            }

            @keyframes dissolve {
                0% {
                    opacity: 1;
                }

                100% {
                    opacity: 0;
                }
            }

            .selected {
                animation: expandAnimation 1s ease-out forwards;
                position: relative;
                z-index: 2;
            }
        </style> <!-- CSS in container so it gets replaced as we load content, so we dont have overlapping rules, -->

        <h1 class="flavor">Pick your poison</h1>
        <div class="game-choice" id="spt-aki">
            <img src="https://external-preview.redd.it/M8IFSwhfPeYfLy4mI3v74lRDacK1aVpQ3wNZY1eKQgs.jpg?auto=webp&s=0c340f58b18e758a795835741dd457bae09a3c8f"
                alt="SPT-AKI" class="game-image">
            <p class="game-name">SPT-AKI</p>
        </div>
        <div class="game-choice" id="mtga">
            <img src="https://media.discordapp.net/attachments/964671313975312474/1083167689352159252/Logo.png?width=700&height=700"
                alt="MTGA" class="game-image">
            <p class="game-name">MTGA</p>
        </div>
        <p id="info">You can switch at any time. Otherwise this would be a shitty launcher</p>
    </div>
    <div class="loading-box">
    </div>

    <script>
        const gameChoices = document.querySelectorAll('.game-choice');
        const loadingBox = document.querySelector('.loading-box');
        const flavor = document.querySelector('.flavor');

        gameChoices.forEach(choice => {
            choice.addEventListener('click', () => {
                flavor.style.display = 'none';
                gameChoices.forEach(c => c.style.display = 'none');
                loadingBox.style.display = 'block';
                simulateLoading();
                // Load corresponding mod manager UI content based on user selection
                if (choice.id === 'spt-aki') {
                    loadSptAkiContent();
                } else if (choice.id === 'mtga') {
                    loadMtgaContent();
                }
            });
        });

        function simulateLoading() {
            setTimeout(() => {
                loadingBox.style.display = 'none';
            }, 2000);
        }


        function loadSptAkiContent() {
            const html = `<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="styles.css">
</head>


<body>

  <header>

    <div class="header-container">
      <img class="logo"
        src="https://cdn.discordapp.com/attachments/1116718992808226837/1139859068278820924/simplfied-mtga-logo.png"
        alt="Mod Manager Logo">
      <nav>
        <ul class="nav-links">
          <li><a href="#" class="nav-link">Bruh</a></li>
          <li><a href="#" class="nav-link">Yo mom</a></li>
          <li><a href="#" class="nav-link">is hairy</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <div class="container">
    <div class="workshop_header">
      <div class="browseAppDetails loadable">
      </div>
      <div class="workshop_browse_menu_area">
        <div class="workshop_browse_tab active">
          <a href="#">Home</a>
        </div>
        <div class="workshop_browse_tab drop ">
          <a>Installed mods</a>
        </div>
        <div class="workshop_browse_tab ">
          <a href="#">Upload mod</a>
        </div>
        <div class="workshop_browse_tab ">
          <a href="#">Upload policy</a>
        </div>
        <div class="workshop_browse_tab dropdown">
          <a href="#">About AKI</a>
          <div class="dropdown-content">
            <a href="https://discord.gg/Xn9msqQZan" target="_blank">Official AKI Discord</a>
            <a href="https://sp-tarkov.com" target="_blank">Official Website</a>
          </div>
        </div>
      </div>
    </div>
    <div class="main-container">

      <div class="mod-discovery">

        <div class="left-container"> <!--Why does everything in here move around so much when zooming in or out?-->
          <div class="sorting-bar">
            <input type="text" class="search-bar" placeholder="Search AKI...">

          </div>
          <select class="mod-type-select">
            <option value="">All Types</option>
            <option value="client">Client Mod</option>
            <option value="server">Server Mod</option>
            <option value="server">Tool</option>
          </select>
          <div class="mod-tags-container" style="margin-bottom: 30px">
            <p>Sort by tags</p>
            <div class="mod-tags" style="margin-bottom: 5px">
              <div class="versions">
                <p>Versions</p>
                <a href="#" class="pill version">3.5.0</a>
                <a href="#" class="pill version">Outdated</a>
              </div>
              <div class="type">
                <p>Type</p>
                <a href="#" class="pill">Weapons</a>
                <a href="#" class="pill">Traders</a>
                <a href="#" class="pill">QoL</a>
                <a href="#" class="pill">Music</a>
                <a href="#" class="pill">Quests</a>
                <a href="#" class="pill">Clothing</a>
                <a href="#" class="pill">Profiles</a>
                <a href="#" class="pill">Attachments</a>
                <a href="#" class="pill">Items</a>
                <a href="#" class="pill">Overhaul</a>
                <a href="#" class="pill">Port</a>
                <a href="#" class="pill" style="background-color: var(--mtga-blue);">MTGA Staff Picks</a>
                <a href="#" class="pill">Other</a>

              </div>
            </div>
          </div>
        </div>

        <div class="slideshow-container">
          <h1 style="position: relative; top:1px;">Mod highlight</h1>
          <div class="slideshow-item" data-modID="2" style="display: block;">
            <img class="loadable" src="https://hub.sp-tarkov.com/files/images/file/6e/1395.png"
              alt="MP-43 12GA SAWED-OFF DOUBLE-BARREL SHOTGUN">
            <div class="slideshow-item-details">
              <div class="slideshow-item-title">MP-43 12GA SAWED-OFF DOUBLE-BARREL SHOTGUN</div>
              <div class="slideshow-item-creator">By Mighty_Condor</div>
            </div>
          </div>
          <div class="slideshow-item" data-modID="2" style="display: block;">
            <img class="loadable"
              src="https://media.discordapp.net/attachments/1033612525192876082/1085473662523674644/untitled.png?width=1246&height=700"
              alt="Escape from Hell">
            <div class="slideshow-item-details">
              <div class="slideshow-item-title">Escape from Hell</div>
              <div class="slideshow-item-creator">By EFHDev</div>
            </div>
          </div>
          <!-- End of slideshow entrys here monke -->

          <button id="prevBtn">❮</button>
          <button id="nextBtn">❯</button>
    </div>
    <div class="mod-results">
        <br>
        Latest mods
        <div class="mod_entry_row" name="modID = 1" data-modID="1" onclick="modPage(this.getAttribute('data-modID'))"
            style="cursor:pointer;">
            <img class="preview_image loadable" src="https://i.imgur.com/oyrIBpI.png" alt="Example Mod">
            <div class="mod_entry_title ellipsis">Escape from Hell
            </div>
            <div class="user_actions">
            </div>
            <div class="grab-button" style="cursor: pointer;" onclick="handleGrabButtonClick(event, '2' )">+</div>
            <div class="mod_author">By EFHDev</div>
            <div class="mod_tags ellipsis tag version">3.5.0</div>
            <div class="mod_tags ellipsis tag">Server</div>
            <div class="mod_tags ellipsis tag">Client</div>
            <div class="mod_tags ellipsis tag">Overhaul</div>
        </div>
        <div class="mod_entry_row" data-modID="2" onclick="modPage(this.getAttribute('data-modID'))"
            style="cursor:pointer;">
            <img class="preview_image loadable" src="https://hub.sp-tarkov.com/files/images/file/6e/1395.png"
                alt="MP-43 12GA SAWED-OFF DOUBLE-BARREL SHOTGUN">
            <div class="mod_entry_title ellipsis">
                MP-43 12GA SAWED-OFF DOUBLE-BARREL SHOTGUN
            </div>
            <div class="user_actions">
            </div>
            <div class="grab-button" style="cursor: pointer;" onclick="handleGrabButtonClick(event)">+</div>
            <div class="mod_author">
                By Mighty_Condor
            </div>
            <div class="mod_tags ellipsis tag version">3.5.0</div>
            <div class="mod_tags ellipsis tag">Server</div>
            <div class="mod_tags ellipsis tag">Weapons</div>

        </div>
    </div>
    </div>
    </div>
    </div>
    </div>


    <div class="loading-box" style="display: none;"></div>


</body>

</html>
`
document.querySelector('.container').innerHTML = '';

// Fetch or load SPT-AKI mod manager UI content
// Example: Fetch from a file or server
//fetch('spt-aki.html')
// .then(response => response.text())
// .then(html => {
document.querySelector('.container').innerHTML = html;
const scriptText = `
let slideIndex = 0;
            const slideshowItems = document.querySelectorAll('.slideshow-item');

            function showSlide(index) {
              if (index < 0) {
                slideIndex = slideshowItems.length - 1;
              } else if (index >= slideshowItems.length) {
                slideIndex = 0;
              }

              slideshowItems.forEach(item => item.style.display = 'none');
              slideshowItems[slideIndex].style.display = 'block';
            }

            function changeSlide(n) {
              showSlide(slideIndex += n);
            }

            function autoScroll() {
              changeSlide(1);
            }

            showSlide(slideIndex);

            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');

            prevBtn.addEventListener('click', () => changeSlide(-1));
            nextBtn.addEventListener('click', () => changeSlide(1));

            setInterval(autoScroll, 5000); // Change slide every 5 seconds

`;
const script = document.createElement(`script`);
script.textContent = scriptText;
document.head.appendChild(script);
// Execute the script within the loaded content
}

function loadMtgaContent() {
const html = /* html */`
<style>
    body {
        background-color: #010409;
        color: white;
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        min-height: 100vh;
        overflow: hidden;
    }

    .mod-discovery {
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .mod-result {
        display: flex;
        background-color: #0D1117;
        margin: 10px;
        padding: 15px;
        border-radius: 10px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
    }

    .mod-thumbnail {
        width: 100px;
        height: 100px;
        object-fit: cover;
        border-radius: 5px;
        margin-right: 15px;
    }

    .mod-info {
        flex: 1;
    }

    .mod-title {
        font-size: 20px;
        margin-bottom: 5px;
    }

    .mod-description {
        font-size: 14px;
        margin-bottom: 10px;
    }

    .mod-tags {
        margin-bottom: 10px;
    }

    .mod-tag {
        background-color: #238636;
        color: white;
        padding: 3px 6px;
        font-size: 12px;
        border-radius: 5px;
        margin-right: 5px;
    }

    .mod-link {
        display: inline-block;
        background-color: #2F81F7;
        color: white;
        padding: 6px 10px;
        border-radius: 5px;
        text-decoration: none;
        font-weight: bold;
        transition: background-color 0.3s;
    }

    .mod-link:hover {
        background-color: #1E2327;
    }

    /* ... (your existing CSS) */

    .workshop-header {
        font-size: 24px;
        margin: 20px 0;
        color: #FFFFFF;
    }

    .carousel {
        display: flex;
        overflow-x: auto;
        gap: 10px;
    }

    .sorting-bar {
        display: flex;
        align-items: center;
        margin-bottom: 20px;
    }

    .search-bar {
        padding: 5px;
        border: 1px solid #2F81F7;
        border-radius: 5px;
        width: 200px;
        color: #000000;
    }

    .expandable-tags {
        position: relative;
        margin: 0 10px;
    }

    .expand-tags-button {

        padding: 5px 10px;
        background-color: #2F81F7;
        color: #FFFFFF;
        border: none;
        border-radius: 5px;
        cursor: pointer;
    }

    .tags {
        position: absolute;
        top: 100%;
        left: 0;
        background-color: #0D1117;
        border: 1px solid #2F81F7;
        border-radius: 5px;
        padding: 5px;
        display: none;
    }

    .mod-type-select {

        padding: 5px;
        border: 1px solid #2F81F7;
        border-radius: 5px;
        background-color: #FFFFFF;
        color: #000000;
    }

    .sorting-options {
        display: flex;
        gap: 10px;
        margin-bottom: 10px;
    }

    .sorting-option {
        padding: 5px 10px;
        background-color: #2F81F7;
        color: #FFFFFF;
        border: none;
        border-radius: 5px;
        cursor: pointer;
    }

    .mod-results {
        /* Styling for the mod results */
        /* Example styles */
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
        gap: 20px;
    }
</style>
<div class="mod-discovery">
    <h1 class="workshop-header">MTGA Workshop</h1>
    <div class="carousel">
    </div>
    <div class="sorting-bar">
        <input type="text" class="search-bar" placeholder="Search...">
        <div class="expandable-tags">
            <button class="expand-tags-button">Expand Tags</button>
            <div class="tags">
            </div>
        </div>
        <select class="mod-type-select">
            <option value="">All Types</option>
            <option value="client">Client Mod</option>
            <option value="server">Server Mod</option>
        </select>
    </div>
    <div class="sorting-options">
        <button class="sorting-option active">Recently Added</button>
        <button class="sorting-option">Recently Updated</button>
        <button class="sorting-option">Most Downloaded</button>
    </div>
    <div class="mod-results">
        <!-- Mod results will be populated dynamically -->
    </div>
</div>
<!-- Dynamicly load these from the database, obviously, we arent going ot manually populate these, final will be using http/templating -->
</div>
`
// Fetch or load MTGA mod manager UI content
// Example: Fetch from a file or server
//fetch('mtga.html')
// .then(response => response.text())
// .then(html => {
document.querySelector('.container').innerHTML = html;
// Set up any necessary interactions and functionality for MTGA mod manager UI
// });
}
</script>
</body>

</html>